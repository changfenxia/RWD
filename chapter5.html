<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="styles/chapter5.css">
    <link rel="stylesheet" href="styles/content.css">
    <link rel="stylesheet" href="styles/next-chapter.css">
    <title>Глава 5</title>
</head>
<body>
    <header class="header">
        <div class="design">
            <h2 class="page-name"><a href="/">Гибкий веб-дизайн</a></h2>
        </div>
    </header>
    <main class="main">
    	<div class="main-countainer">
            <div class="chapter-name"> 
                <span class="chapter-one">Глава 5:</span>
                <span class="foundations">Layers</span>
            </div>
        	<div class="part-one">
        		<p class="first text">In his classic book <b class="italic">How Buildings Learn</b> Stewart Brand highlights an idea by the British architect Frank Duffy:</p>
                <blockquote class="italic">
                    <p>A building properly conceived is several layers of longevity.</p>
                </blockquote>
                <p class="text">Duffy called these shearing layers. Each of the layers moves at a different timescale. Brand expanded on the idea, proposing six alliterative layers:</p>
                <ol class="numbered">
                    <li class="text"><strong class="strong">Site</strong>—the physical location of a building only changes on a geological timescale.</li>
                    <li class="text"><strong class="strong">Structure</strong>—the building itself can last for centuries.</li>
                    <li class="text"><strong class="strong">Skin</strong>—the exterior surface gets a facelift or a new lick of paint every few decades.</li>
                    <li class="text"><strong class="strong">Services</strong>—the plumbing and wiring need to be updated every ten years or so.</li>
                    <li class="text"><strong class="strong">Space plan</strong>—the layout of walls and doors might change occasionally.</li>     
                    <li class="text"><strong class="strong">Stuff</strong>—the arrangement of furniture in a room can change on a daily basis.</li>
                </ol>
                <figure class="img-container">
                    <picture class="img1">
                        <img src="img/shearing-layers.jpg" alt="">
                    </picture>
                    <figcaption class="after-img1">
                        Shearing layers.
                    </figcaption>
                </figure>   
                <p class="text">The idea of shearing layers can also be applied to our creations on the web. Our domain names are the geological sites upon which we build. At the other end of the timescale, content on the web—the “stuff”—can be added and updated by the hour, the minute, or even the second. In between are the layers of structure, presentation, and behaviour: HTML, CSS, and JavaScript.</p>
                <p class="text">Those layers can be loosely‐coupled, but they aren’t completely independent. Just as a building cannot have furniture without first having rooms and walls, a style sheet needs some markup to act upon. The coupling between structure and presentation is handled through selectors in CSS: element selectors, class selectors, and so on. With JavaScript, the coupling is handled through the vocabulary of the Document Object Model, or DOM.</p>
                <p class="text">In his classic book <b class="italic">The Clock Of The Long Now</b>, Stewart Brand applied the idea of shearing layers—or pace layers—to civilisation itself. The slowest moving layer is nature, then there’s culture, followed by governance, then infrastructure, and finally commerce and fashion are the fastest layers. In a loosely‐coupled way, each layer depends on the layer below. In turn, the accumulation of each successive layer enables an “adjacent possible” filled with more opportunities.</p>
                <p class="text">Likewise, the expressiveness of CSS and JavaScript is only made possible on a foundation of HTML, which itself requires a URL to be reachable, which in turn depends on the HyperText Transfer Protocol, which sits atop the bedrock of TCP/IP.</p>
                <p class="text">Each of the web’s shearing layers can be peeled back to reveal a layer below. Running that process in reverse—applying each layer in turn—is a key principle of resilient web design.</p>
            </div>
        	<div class="part-two">
                <h2 class="sub-title">Progressive enhancement</h2>
                <p class="text">In 2003, the South by Southwest festival in Austin, Texas was primarily an event for musicians and filmmakers. Today the music and film portions are eclipsed by the juggernaut of South by Southwest Interactive, dedicated to all things digital. In 2003, South by Southwest Interactive was a small affair, squeezed into one corner of one floor of the Austin Convention Center. It was a chance for a few web designers and bloggers to get together and share ideas. That year, Steven Champeon and Nick Finck presented a talk entitled <b class="italic">Inclusive Web Design For the Future with Progressive Enhancement</b>. They opened with this call to arms:</p>
                <blockquote class="italic">
                    <p>Web design must mature and accept the developments of the past several years, abandon the exclusionary attitudes formed in the rough and tumble dotcom era, realize the coming future of a wide variety of devices and platforms, and separate semantic markup from presentation logic and behavior.</p>
                </blockquote>
                <p class="text">Like Tim Berners‐Lee, Steven Champeon had experience of working with SGML, the markup language that would so heavily influence HTML. In dealing with documents that needed to be repurposed for different outputs, he came to value the separation of structure from presentation. A meaningfully marked up document can be presented in multiple ways through the addition of CSS and JavaScript.</p>
                <p class="text">This layered approach to the web allows the same content to be served up to a wide variety of people. But this doesn’t mean that everyone gets the same experience. Champeon realised that a strong separation of concerns would allow enhancements to be applied according to the capabilities of the end user’s device.</p>
                <p class="text">To paraphrase Karl Marx, progressive enhancement allows designers to ask from each browser according to its ability, and to deliver to each device according to its needs.</p>
            </div>  
            <div class="part-three">
                <h2 class="sub-title">Do websites need to look exactly the same in every browser?</h2>
                <p class="text">Some web designers were concerned that progressive enhancement would be a creative straitjacket. Designing for the lowest common denominator did not sound like a recipe for progress. But this was a misunderstanding. Progressive enhancement asks that designers start from the lowest common denominator (a well marked‐up document), but there is no limit to where they can go from there.</p>
                <p class="text">In fact, it’s the very presence of a solid baseline of HTML that allows web designers to experiment with the latest and greatest CSS. Thanks to Postel’s Law and the loose error‐handling model of CSS, designers are free to apply styles that only work in the newest browsers.</p>
                <p class="text">This means that not everyone will experience the same visual design. This is not a bug. This is a feature of the web. New browsers and old browsers; monochrome displays and multi‐coloured displays; fast connections and slow connections; big screens, small screens, and no screens; everyone can access your content. That content <b class="italic">should</b> look different in such varied situations. If a website looks the same on a ten‐year old browser as it does in the newest devices, then it probably isn’t taking advantage of the great flexibility that the web offers.</p>
                <p class="text">To emphasise this, designer Dan Cederholm created a website to answer the question, “Do websites need to look exactly the same in every browser?” You can find the answer to that question at the URL:</p>
                <p class="text">dowebsitesneedtolookexactlythesameineverybrowser.com</p>
                <p class="text">At the risk of spoiling the surprise for you, the answer is a resounding “No!” If you visit that website, you will see that answer proudly displayed. But depending on the capabilities of your browser, you may or may not see some of the stylistic flourishes applied to that single‐word answer. Even if you don’t get <b class="italic">any</b> of the styles, you’ll still get the content marked up with semantic HTML.</p>
            </div>
    		<div class="part-four">
                <h2 class="sub-title">Cutting the mustard</h2>
                <p class="text">Separating structure and presentation is relatively straightforward. You can declare whatever styles you want, safe in the knowledge that browsers will ignore what they don’t understand. Separating structure and behaviour isn’t quite so easy. If you give a browser some JavaScript that it doesn’t understand, not only will it not apply the desired behaviour, it will refuse to parse the rest of the JavaScript.</p>
                <p class="text">Before you use a particular feature in JavaScript, it’s worth testing to see if that feature is supported. This kind of feature detection can save your website’s visitors from having a broken experience because of an unsupported feature. If you want to use Ajax, check first that the browser supports the object you’re about to use to enable that Ajax functionality. If you want to use the geolocation API, check first that the browser supports it.</p>
                <p class="text">A team of web developers working on the BBC news website referred to this kind of feature detection as cutting the mustard. Browsers that cut the mustard get an enhanced experience. Browsers that don’t cut the mustard still get access to the content, but without the JavaScript enhancements.</p>
                <p class="text">Feature detection, cutting the mustard, whatever you want to call it, is a fairly straightforward technique. Let’s say you want to traverse the DOM using querySelector and attach events to some nodes in the document using addEventListener. Your mustard‐cutting logic might look something like this:</p>
                <p class="text">if (document.querySelector && <br> window.addEventListener) {<br>&nbsp &nbsp &nbsp &nbsp// Enhance!<br>}</p>
                <p class="text">There are two points to note here:</p>
                <ol class="numbered">
                    <li class="text">This is feature detection, not browser detection. Instead of asking “which browser are you?” and trying to infer feature support from the answer, it is safer to simply ask “do you support this feature?”</li>
                    <li class="text">There is no else statement.</li>
                </ol>
            </div>
            <div class="part-five">
                <h2 class="sub-title">Aggressive enhancement</h2>
                <p class="text">Back when web designers were trying to exert print‐like control over web browsers, a successful design was measured in pixel perfection: did the website look exactly the same in every browser?</p>
                <p class="text">Unless every browser supported a particular feature—like, say, rounded corners in CSS—then that feature was off the table. Instead, designers would fake it with extra markup and images. The resulting websites lacked structural honesty. Not only was this a waste of talent and energy on the part of the designers, it was a waste of the capabilities of modern web browsers.</p>
                <p class="text">The rise of mobiles, tablets, and responsive design helped to loosen this restrictive mindset. It is no longer realistic to expect pixel‐perfect parity across devices and browsers. But you’ll still find web designers bemoaning the fact that they have to support an older outdated browser because a portion of their audience are still using it.</p>
                <p class="text">They’re absolutely right. Anyone using that older browser should have access to the same content as someone using the latest and greatest web browser. But that doesn’t mean they should get the same experience. As Brad Frost puts it:</p>
                <blockquote class="italic">
                    <p>There is a difference between support and optimization.</p>
                </blockquote>
                <p class="text"><b class="italic">Support</b> every browser ...but <b class="italic">optimize</b> for none.</p>
                <p class="text">Some designers have misunderstood progressive enhancement to mean that <b class="italic">all</b> functionality must be provided to <b class="italic">everyone</b>. It’s the opposite. Progressive enhancement means providing <b class="italic">core</b> functionality to everyone. After that, it’s every browser for itself. Far from restricting what features you can use, progressive enhancement provides web designers with a way to safely use the latest and greatest features without worrying about older browsers. Scott Jehl of the agency Filament Group puts it succinctly:</p>
                <blockquote class="italic">
                    <p>Progressive Enhancement frees us to focus on the costs of building features for modern browsers, without worrying much about leaving anyone out. With a strongly qualified codebase, older browser support comes nearly for free.</p>
                </blockquote>
                <p class="text">If a website is built using progressive enhancement then it’s okay if a particular feature isn’t supported or fails to load: Ajax, geolocation, whatever. As long as the core functionality is still available, web designers don’t need to bend over backwards trying to crowbar support for newer features into older browsers.</p>
                <p class="text">You also get a website that’s more resilient to JavaScript’s error‐handling model. Mat Marquis worked alongside Scott Jehl on the responsive website for the Boston Globe. He noted:</p>
                <blockquote class="italic">
                    <p>Lots of cool features on the Boston Globe don’t work when JS breaks; “reading the news” is not one of them.</p>
                </blockquote>
                <p class="text">The trick is identifying what is considered core functionality and what is considered an enhancement.</p>
            </div>
            <h2 class="sub-title">Ссылки:</h2>
            <ul class="last-part">
                <li class="references">
                    <a href="http://www.hesketh.com/publications/inclusive_web_design_for_the_future/"><p class="links italic">Inclusive Web Design For the Future with Progressive Enhancement</p></a>
                    <p class="names">by Steven Champeon<br>and Nick Finck</p>
                </li>
                <li class="references">
                    <a href="http://dowebsitesneedtolookexactlythesameineverybrowser.com/"><p class="links italic">Do websites need to look exactly the same in every browser?</p></a>
                    <p class="names">by Dan<br>Cederholm</p>
                </li>
                <li class="references">
                    <a href="http://bradfrost.com/blog/mobile/support-vs-optimization/"><p class="links italic">Support vs Optimization</p></a>
                    <p class="names">by Brad Frost</p>
                </li>
                <li class="references">
                    <a href="https://the-pastry-box-project.net/scott-jehl/2014-march-7"><p class="links italic">The Pastry Box</p></a>
                    <p class="names">by Scott Jehl</p>
                </li>
            </ul>
        </div>  
    </main>
    <a class="next-chapter" href="">
        <div class="line"><span class="chapter-no">Глава 6:</span>Шаги</div>
    </a>
    <nav class="content-nav">
        <ol>
            <li>
                <a class="content-link" href="introduction/">
                    <p class="content-p-left">Предисловие</p>
                </a>
            </li>
            <li>
                <a class="content-link" href="chapter1">
                    <p class="content-p">
                        <span class="chapter">Глава 1</span>Основы
                    </p>
                </a>
            </li>
            <li>
                <a class="content-link" href="#">
                    <p class="content-p">
                        <span class="chapter">Глава 2</span>Материалы
                    </p>
                </a></li>
            <li>
                <a class="content-link" href="#">
                    <p class="content-p">
                        <span class="chapter">Глава 3</span>Визуальное представление
                    </p>
                </a>
            </li>
            <li>
                <a class="content-link" href="#">
                    <p class="content-p">
                        <span class="chapter">Глава 4</span>Языки
                    </p>
                </a>
            </li>
            <li>
                <a class="content-link" href="#">
                    <p class="content-p">
                        <span class="chapter">Глава 5</span>Слои
                    </p>
                </a>
            </li>
            <li>
                <a class="content-link" href="#">
                    <p class="content-p">
                        <span class="chapter">Глава 6</span>Шаги
                    </p>
                </a>
            </li>
            <li>
                <a class="content-link" href="#">
                    <p class="content-p">
                        <span class="chapter">Глава 7</span>Испытания
                    </p>
                </a>
            </li>
            <li>
                <a class="content-link" href="#">
                    <p class="content-p">
                        <span class="author">Об Авторе</span>
                    </p>
                </a>
            </li>
            <li>
                <a class="content-link" href="#">
                    <p class="content-p-left">Алфавитный указатель</p>
                </a>
            </li>
        </ol>
    </nav>
    <footer class="footer">
		<div class="footer-container">
			<p class="producer"><b class="italic">Гибкий веб-дизайн</b> написана и издана <a href="https://adactio.com" rel="me"><span class="red">Джереми Китом</span></a>. Набор текста <a href="https://edwardtufte.github.io/et-book/"><span class="red">ET Book</span></a>.
			</p>
			<p class="license">Лицензировано с использованием <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/"><span class="red">Международной лицензии Creative Commons Attribution‐ShareAlike 4.0.</span></a></p>
		</div>
	</footer>
<script src="1st-project_script.js"></script>
</body>
</html>